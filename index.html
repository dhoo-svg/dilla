<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hadiah Dilla</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <!-- OVERLAY -->
    <div class="overlay"></div>

    <!-- MUSIK PERTAMA -->
    <audio id="bg-music" autoplay muted loop>
      <source src="music1.mp3" type="audio/mpeg" />
    </audio>

    <div class="container">
      <div class="greetings">
        <div class="line">
          <span>F</span><span>A</span><span>R</span><span>A</span><span>D</span
          ><span>I</span><span>L</span><span>L</span><span>A</span
          ><span>H</span>
        </div>
        <div class="line">
          <span>A</span><span>U</span><span>L</span><span>I</span><span>A</span
          ><span class="love">‚ù§Ô∏è</span>
        </div>
      </div>

      <div class="description">Aku ada hadiah spesial buat Dilla üå∏</div>

      <div class="button">
        <a href="flower.html" onclick="goNext()">Klik disini ya Dilla</a>
      </div>
    </div>

    <script>
  const music = document.getElementById("bg-music");
  let isPlaying = false;

  function startMusic() {
    if (isPlaying) return;

    music.muted = false;
    music.volume = 0.5;

    const playPromise = music.play();
    if (playPromise !== undefined) {
      playPromise
        .then(() => {
          isPlaying = true;
        })
        .catch((err) => {
          console.log("Play blocked:", err);
        });
    }

    // hapus semua listener setelah sukses
    document.removeEventListener("touchstart", startMusic);
    document.removeEventListener("click", startMusic);
    document.removeEventListener("scroll", startMusic);
  }

  // MOBILE-FIRST EVENTS
  document.addEventListener("touchstart", startMusic, { passive: true });
  document.addEventListener("click", startMusic);
  document.addEventListener("scroll", startMusic);
</script>
  </body>
</html>
