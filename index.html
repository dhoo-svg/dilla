<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hadiah Dilla</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <!-- OVERLAY -->
    <div class="overlay"></div>

    <!-- üéµ MUSIK (TANPA AUTOPLAY) -->
    <audio id="bg-music" loop preload="auto">
      <source src="music1.mp3" type="audio/mpeg" />
    </audio>

    <div class="container">
      <div class="greetings">
        <div class="line">
          <span>F</span><span>A</span><span>R</span><span>A</span><span>D</span
          ><span>I</span><span>L</span><span>L</span><span>A</span
          ><span>H</span>
        </div>
        <div class="line">
          <span>A</span><span>U</span><span>L</span><span>I</span><span>A</span
          ><span class="love">‚ù§Ô∏è</span>
        </div>
      </div>

      <div class="description">Aku ada hadiah spesial buat Dilla üå∏</div>

      <div class="button">
        <a href="flower.html">Klik disini ya Dilla</a>
      </div>
    </div>

    <!-- ‚úÖ SCRIPT AUDIO AMAN SEMUA DEVICE -->
    <script>
      const music = document.getElementById("bg-music");
      let started = false;

      function startMusicOnce() {
        if (started) return;
        started = true;

        music.volume = 0.5;
        music.currentTime = 0;

        music.play().catch(() => {
          // fallback iOS
          document.body.addEventListener("touchstart", () => music.play(), {
            once: true,
          });
        });

        // hapus listener
        document.removeEventListener("pointerdown", startMusicOnce);
        document.removeEventListener("touchstart", startMusicOnce);
        document.removeEventListener("click", startMusicOnce);
      }

      // üîë UNIVERSAL GESTURE
      document.addEventListener("pointerdown", startMusicOnce, { once: true });
      document.addEventListener("touchstart", startMusicOnce, { once: true });
      document.addEventListener("click", startMusicOnce, { once: true });
    </script>
  </body>
</html>
